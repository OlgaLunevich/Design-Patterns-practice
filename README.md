# Design Patterns — Composite и Observer (вариант 6)

Система управления задачами команды разработки

Проект выполнен в соответствии с требованиями дисциплины Design Patterns.

Тема: Composite + Observer.

Цель работы — разработать систему управления задачами в команде разработки на TypeScript.

Приложение реализует:

- иерархическую модель проектов, задач и подзадач (Composite);

- автоматические уведомления разработчиков о событиях в задачах (Observer);

- расчёт прогресса проекта по подзадачам;

- вывод структуры проекта в виде дерева;

- строгую типизацию TypeScript (strict);

- модульную архитектуру.

---

## Структура проекта (Clean Architecture)

Проект организован по принципам разделения ответственности:

```text

src/
  domain/
    contracts.ts        # Типы, интерфейсы (Observer, Subject, Composite, события)
    task-subject.ts     # Реализация Subject
    task.ts             # Leaf (Task)
    project.ts          # Composite (Project) + ретрансляция событий
    observers.ts        # Developer, TeamLead
  index.ts              # Точка входа (демо-сценарий)
```

---

## Используемые паттерны

### **Composite**
Паттерн **Composite** используется для построения иерархии задач:
- `Task` - **Leaf** (обычная задача);
- `Project` - **Composite** (проект или эпик);
- `TaskComponent` - общий интерфейс.

Благодаря этому проект может содержать:

- задачи,

- подпроекты (эпики),

- подзадачи любой глубины.

Все элементы обрабатываются одинаково:

- можно получить статус,

- прогресс,

- вывести дерево задач.

### **Observer**
Паттерн **Observer** используется для уведомления разработчиков о событиях.

В системе:

| Роль     | Класс                   |
| -------- | ----------------------- |
| Subject  | `Task`, `Project`       |
| Observer | `Developer`, `TeamLead` |

События:

- `TASK_ADDED` — добавление задачи или проекта;

- `STATUS_CHANGED` — изменение статуса;

- `ASSIGNEE_CHANGED` — смена исполнителя;

- `TITLE_CHANGED` — изменение названия.

Разработчики подписываются на корневой проект.

`Project` подписывается на своих детей и ретранслирует события вверх, поэтому наблюдатели получают уведомления обо всех изменениях внутри всей иерархии.

## Модель предметной области

**Task (Leaf)**

Представляет отдельную задачу:

- id

- название

- статус (`Todo`, `InProgress`, `Done`)

- исполнитель

Task:

- может изменять статус, название, исполнителя;

- при каждом изменении генерирует событие.

**Project (Composite)**

Представляет проект или эпик:

- содержит список задач и подпроектов;

- вычисляет статус и прогресс по дочерним элементам;

- ретранслирует события от детей своим наблюдателям.

**Пример иерархии**

```text
Team Platform
 └── Auth Epic
     ├── Сделать JWT
     └── Refresh token
```

**Прогресс**

Прогресс считается автоматически:

- `Task`:

    - Todo → 0%

    - InProgress → 50%

    - Done → 100%
- `Project`:
    - среднее значение прогресса всех подзадач.

**Пример сценария**

В `index.ts`:
```ts

root.attach(alice);
root.attach(bob);

root.add(epicAuth);
epicAuth.add(jwt);
epicAuth.add(refresh);

jwt.setStatus(TaskStatus.InProgress);
jwt.setStatus(TaskStatus.Done);

```

Разработчики получают уведомления:

```csharp
[DEV Alice] TASK_ADDED | Auth Epic | Добавлено: "Auth Epic"
[DEV Bob]   STATUS_CHANGED | Сделать JWT | Статус: Todo -> InProgress

```


## Запуск проекта

Установка зависимостей:
```bash
npm install
```

Запуск в режиме разработки:
```bash
npm run dev
```

Сборка:
```bash
npm run build
```

Запуск собранной версии:
```bash
npm start
```

## Выполнение требований задания

| Требование                                    | Статус |
| --------------------------------------------- | ------ |
| Использован паттерн Composite        | ✔      |
| Проекты содержат задачи и подзадачи       | ✔      |
| Использован паттерн Observer      | ✔      |
| Разработчики получают уведомления                   | ✔      |
| Уведомление о добавлении задачи | ✔      |
| Уведомление о смене статуса    | ✔      |
| TypeScript strict            | ✔      |
| Модульная архитектура           | ✔      |


---

##  Автор: Ольга Луневич

Студент группы 23-HO 

Вариант: **6. Composite + Observer — Система управления задачами**


